var X=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var T=(a,n,e)=>n in a?X(a,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[n]=e,b=(a,n)=>{for(var e in n||(n={}))_.call(n,e)&&T(a,e,n[e]);if(O)for(var e of O(n))x.call(n,e)&&T(a,e,n[e]);return a},h=(a,n)=>K(a,Q(n));var N=a=>typeof a=="symbol"?a:a+"",d=(a,n)=>{var e={};for(var t in a)_.call(a,t)&&n.indexOf(t)<0&&(e[t]=a[t]);if(a!=null&&O)for(var t of O(a))n.indexOf(t)<0&&x.call(a,t)&&(e[t]=a[t]);return e};import{aX as m,aY as V,r as s,Z as P,aZ as I,a_ as ee,aR as z}from"./index-MKCxXVAg.js";import{a$ as Ae,b0 as Je,b1 as Ue}from"./index-MKCxXVAg.js";import{l as i,c as k,a as g,b as y,d as S,e as ne,f as te,g as Z,h as H,i as ae,j as A,w as J}from"./generic-C69tSYKH.js";function U(a,n,e){n.center!==e.center&&a.setLatLng(n.center),n.radius!=null&&n.radius!==e.radius&&a.setRadius(n.radius)}function oe(a){return a.split(" ").filter(Boolean)}function le(a,n){for(const e of oe(n))i.DomUtil.addClass(a,e)}function j(a,n,e){const{opacity:t,zIndex:l}=n;t!=null&&t!==e.opacity&&a.setOpacity(t),l!=null&&l!==e.zIndex&&a.setZIndex(l)}function M(a,n,e){n.bounds instanceof i.LatLngBounds&&n.bounds!==e.bounds&&a.setBounds(n.bounds),n.opacity!=null&&n.opacity!==e.opacity&&a.setOpacity(n.opacity),n.zIndex!=null&&n.zIndex!==e.zIndex&&a.setZIndex(n.zIndex)}const we=k(function(n){return new i.Control.Attribution(n)}),ve=g(function(r,l){var o=r,{center:n,children:e}=o,t=d(o,["center","children"]);const u=new i.Circle(n,t);return y(u,m(l,{overlayContainer:u}))},U),pe=g(function(r,l){var o=r,{center:n,children:e}=o,t=d(o,["center","children"]);const u=new i.CircleMarker(n,t);return y(u,m(l,{overlayContainer:u}))},U),be=g(function(l,t){var r=l,{children:n}=r,e=d(r,["children"]);const o=new i.FeatureGroup([],e);return y(o,m(t,{layerContainer:o,overlayContainer:o}))}),Oe=g(function(l,t){var r=l,{data:n}=r,e=d(r,["data"]);const o=new i.GeoJSON(n,e);return y(o,m(t,{overlayContainer:o}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),Pe=S(function(r,l){var o=r,{bounds:n,url:e}=o,t=d(o,["bounds","url"]);const u=new i.ImageOverlay(e,n,t);return y(u,m(l,{overlayContainer:u}))},function(n,e,t){if(M(n,e,t),e.bounds!==t.bounds){const l=e.bounds instanceof i.LatLngBounds?e.bounds:new i.LatLngBounds(e.bounds);n.setBounds(l)}e.url!==t.url&&n.setUrl(e.url)}),Se=S(function(l,t){var r=l,{children:n}=r,e=d(r,["children"]);const o=new i.LayerGroup([],e);return y(o,m(t,{layerContainer:o}))}),re=Z(function(l,t){var r=l,{children:n}=r,e=d(r,["children"]);const o=new i.Control.Layers(void 0,void 0,e);return y(o,m(t,{layersControl:o}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),ue=te(re),F=ne(ue);function W(a){return function(e){const t=V(),l=s.useRef(e),[r,o]=s.useState(null),{layersControl:u,map:c}=t,f=s.useCallback(w=>{u!=null&&(l.current.checked&&c.addLayer(w),a(u,w,l.current.name),o(w))},[a,u,c]),C=s.useCallback(w=>{u==null||u.removeLayer(w),o(null)},[u]),E=s.useMemo(()=>m(t,{layerContainer:{addLayer:f,removeLayer:C}}),[t,f,C]);return s.useEffect(()=>{r!==null&&l.current!==e&&(e.checked===!0&&(l.current.checked==null||l.current.checked===!1)?c.addLayer(r):l.current.checked===!0&&(e.checked==null||e.checked===!1)&&c.removeLayer(r),l.current=e)}),e.children?P.createElement(I,{value:E},e.children):null}}F.BaseLayer=W(function(n,e,t){n.addBaseLayer(e,t)});F.Overlay=W(function(n,e,t){n.addOverlay(e,t)});function ce(w,E){var G=w,{bounds:a,boundsOptions:n,center:e,children:t,className:l,id:r,placeholder:o,style:u,whenReady:c,zoom:f}=G,C=d(G,["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"]);const[D]=s.useState({className:l,id:r,style:u}),[L,$]=s.useState(null),R=s.useRef(void 0);s.useImperativeHandle(E,()=>{var v;return(v=L==null?void 0:L.map)!=null?v:null},[L]);const Y=s.useCallback(v=>{if(v!==null&&!R.current){const p=new i.Map(v,C);R.current=p,e!=null&&f!=null?p.setView(e,f):a!=null&&p.fitBounds(a,n),c!=null&&p.whenReady(c),$(ee(p))}},[]);s.useEffect(()=>()=>{L==null||L.map.remove()},[L]);const q=L?P.createElement(I,{value:L},t):o!=null?o:null;return P.createElement("div",h(b({},D),{ref:Y}),q)}const Ee=s.forwardRef(ce),he=S(function(l,t){var r=l,{position:n}=r,e=d(r,["position"]);const o=new i.Marker(n,e);return y(o,m(t,{overlayContainer:o}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),ie=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function B(a,n){const l=a,{[n]:e}=l;return d(l,[N(n)])}function se(a,n,e){var o;if(ie.indexOf(a)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${a}`);if(e.map.getPane(a)!=null)throw new Error(`A pane with this name already exists: ${a}`);const t=(o=n.pane)!=null?o:e.pane,l=t?e.map.getPane(t):void 0,r=e.map.createPane(a,l);if(n.className!=null&&le(r,n.className),n.style!=null)for(const u of Object.keys(n.style))r.style[u]=n.style[u];return r}function fe(a,n){const[e]=s.useState(a.name),[t,l]=s.useState(null);s.useImperativeHandle(n,()=>t,[t]);const r=V(),o=s.useMemo(()=>h(b({},r),{pane:e}),[r]);return s.useEffect(()=>(l(se(e,a,r)),function(){var f;const c=r.map.getPane(e);(f=c==null?void 0:c.remove)==null||f.call(c),r.map._panes!=null&&(r.map._panes=B(r.map._panes,e),r.map._paneRenderers=B(r.map._paneRenderers,e))}),[]),a.children!=null&&t!=null?z.createPortal(P.createElement(I,{value:o},a.children),t):null}const Ie=s.forwardRef(fe),ke=g(function(l,t){var r=l,{positions:n}=r,e=d(r,["positions"]);const o=new i.Polygon(n,e);return y(o,m(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Me=g(function(l,t){var r=l,{positions:n}=r,e=d(r,["positions"]);const o=new i.Polyline(n,e);return y(o,m(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Ge=H(function(n,e){const t=new i.Popup(n,e.overlayContainer);return y(t,e)},function(n,e,{position:t},l){s.useEffect(function(){const{instance:o}=n;function u(f){f.popup===o&&(o.update(),l(!0))}function c(f){f.popup===o&&l(!1)}return e.map.on({popupopen:u,popupclose:c}),e.overlayContainer==null?(t!=null&&o.setLatLng(t),o.openOn(e.map)):e.overlayContainer.bindPopup(o),function(){var C;e.map.off({popupopen:u,popupclose:c}),(C=e.overlayContainer)==null||C.unbindPopup(),e.map.removeLayer(o)}},[n,e,l,t])}),Re=g(function(l,t){var r=l,{bounds:n}=r,e=d(r,["bounds"]);const o=new i.Rectangle(n,e);return y(o,m(t,{overlayContainer:o}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),Te=k(function(n){return new i.Control.Scale(n)}),de=Z(function(n,e){const c=n,{attributes:t,bounds:l}=c,r=d(c,["attributes","bounds"]),o=document.createElementNS("http://www.w3.org/2000/svg","svg");if(o.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null)for(const f of Object.keys(t))o.setAttribute(f,t[f]);const u=new i.SVGOverlay(o,l,r);return y(u,e,o)},M),ye=ae(de);function me(t,e){var l=t,{children:a}=l,n=d(l,["children"]);const{instance:r,container:o}=ye(n).current;return s.useImperativeHandle(e,()=>r),o==null||a==null?null:z.createPortal(a,o)}const _e=s.forwardRef(me),xe=A(function(l,t){var r=l,{url:n}=r,e=d(r,["url"]);const o=new i.TileLayer(n,J(e,t));return y(o,t)},function(n,e,t){j(n,e,t);const{url:l}=e;l!=null&&l!==t.url&&n.setUrl(l)}),Ne=H(function(n,e){const t=new i.Tooltip(n,e.overlayContainer);return y(t,e)},function(n,e,{position:t},l){s.useEffect(function(){const o=e.overlayContainer;if(o==null)return;const{instance:u}=n,c=C=>{C.tooltip===u&&(t!=null&&u.setLatLng(t),u.update(),l(!0))},f=C=>{C.tooltip===u&&l(!1)};return o.on({tooltipopen:c,tooltipclose:f}),o.bindTooltip(u),function(){o.off({tooltipopen:c,tooltipclose:f}),o._map!=null&&o.unbindTooltip()}},[n,e,l,t])}),Be=S(function(r,l){var o=r,{bounds:n,url:e}=o,t=d(o,["bounds","url"]);var c;const u=new i.VideoOverlay(e,n,t);return t.play===!0&&((c=u.getElement())==null||c.play()),y(u,m(l,{overlayContainer:u}))},function(n,e,t){M(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const l=n.getElement();l!=null&&(e.play===!0&&!t.play?l.play():!e.play&&t.play===!0&&l.pause())}),Ve=A(function(o,r){var u=o,{eventHandlers:n,params:e={},url:t}=u,l=d(u,["eventHandlers","params","url"]);const c=new i.TileLayer.WMS(t,b(b({},e),J(l,r)));return y(c,r)},function(n,e,t){j(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),ze=k(function(n){return new i.Control.Zoom(n)});export{we as AttributionControl,ve as Circle,pe as CircleMarker,be as FeatureGroup,Oe as GeoJSON,Pe as ImageOverlay,Se as LayerGroup,F as LayersControl,Ee as MapContainer,he as Marker,Ie as Pane,ke as Polygon,Me as Polyline,Ge as Popup,Re as Rectangle,_e as SVGOverlay,Te as ScaleControl,xe as TileLayer,Ne as Tooltip,Be as VideoOverlay,Ve as WMSTileLayer,ze as ZoomControl,Ae as useMap,Je as useMapEvent,Ue as useMapEvents};
