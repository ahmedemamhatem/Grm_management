var me=Object.defineProperty,xe=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var Z=(a,l,r)=>l in a?me(a,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[l]=r,M=(a,l)=>{for(var r in l||(l={}))he.call(l,r)&&Z(a,r,l[r]);if(Y)for(var r of Y(l))ue.call(l,r)&&Z(a,r,l[r]);return a},z=(a,l)=>xe(a,oe(l));var ee=(a,l,r)=>new Promise((s,d)=>{var c=t=>{try{u(r.next(t))}catch(n){d(n)}},m=t=>{try{u(r.throw(t))}catch(n){d(n)}},u=t=>t.done?s(t.value):Promise.resolve(t.value).then(c,m);u((r=r.apply(a,l)).next())});import{h as p,K as R,r as x,at as je,N as $,O as U,au as fe,av as Ne,j as e,aw as i,ah as A,ai as E,al as D,ax as pe,ak as ve,aj as K,ay as te,B as C,a0 as we,a1 as ye,a3 as ge,a4 as H,a5 as O,a6 as V,a7 as G,a8 as F,a9 as W,g as k,az as _e,aA as be,aB as Ce,aC as Se,aD as se,aE as Me,aF as Pe,aG as ke}from"./index-MKCxXVAg.js";import{G as Le}from"./GetOneSeoPageHook-Cjt6gePU.js";import{S as Ue}from"./PageHelmet-Cw5kPi4y.js";import{S as L,C as ae}from"./separator-BSXjpleX.js";import{S as Fe,a as Re,b as $e,c as Ae,d as Ee}from"./select-DN__f3rb.js";const De=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Be=p("at-sign",De);const Ie=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Te=p("bookmark",Ie);const ze=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],He=p("calendar-days",ze);const Oe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ve=p("calendar",Oe);const Ge=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],We=p("clock",Ge);const Ke=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qe=p("file-text",Ke);const Je=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],le=p("image",Je);const Qe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xe=p("lock",Qe);const Ye=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ze=p("pen-line",Ye);const es=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ss=p("target",es);const as=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],q=p("user",as),ts=()=>{const a=R();x.useEffect(()=>{a(je())},[]);const{isLoading:l,profile:r,errors:s}=$(d=>d.profile);return x.useEffect(()=>{const d=s==null?void 0:s.message;d&&U.error(d)},[s]),{isLoading:l,profile:r,errors:s}},ls=()=>{const a=R(),{profileUpdate:l,isLoading:r,errors:s}=$(c=>c.profile),d=c=>{a(fe(c))};return x.useEffect(()=>{const c=s==null?void 0:s.message;s&&c&&U.error(c==null?void 0:c.ar)},[s]),{updateProfileFN:d,profileUpdate:l,isLoading:r,errors:s}},rs=()=>{const a=R(),{profilePasswordUpdate:l,isLoading:r,errors:s}=$(c=>c.profile),d=c=>{a(Ne(c))};return x.useEffect(()=>{s&&(s!=null&&s.ar)&&U.error(s==null?void 0:s.ar)},[s]),{updateProfilePassFN:d,profilePasswordUpdate:l,isLoading:r,errors:s}},cs=()=>e.jsx("div",{className:"rounded-2xl border bg-background p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-start",children:[e.jsx("div",{className:"relative overflow-hidden rounded-xl border bg-muted",children:e.jsx(i,{className:"h-64 w-full xl:h-32 xl:w-48"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 space-y-2",children:[e.jsx(i,{className:"h-5 w-48"}),e.jsx(i,{className:"h-4 w-32"})]}),e.jsx(i,{className:"h-6 w-20 rounded-full"})]}),e.jsx("div",{className:"my-4",children:e.jsx(i,{className:"h-px w-full"})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(i,{className:"h-4 w-4 rounded-sm"}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(i,{className:"h-3 w-20"}),e.jsx(i,{className:"h-4 w-32"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(i,{className:"h-4 w-4 rounded-sm"}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(i,{className:"h-3 w-16"}),e.jsx(i,{className:"h-4 w-24"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(i,{className:"h-4 w-4 rounded-sm"}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(i,{className:"h-3 w-16"}),e.jsx(i,{className:"h-4 w-28"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(i,{className:"h-4 w-4 rounded-sm"}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(i,{className:"h-3 w-20"}),e.jsx(i,{className:"h-4 w-16"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3 md:col-span-2",children:[e.jsx(i,{className:"h-4 w-4 rounded-sm"}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(i,{className:"h-3 w-20"}),e.jsx(i,{className:"h-4 w-full"})]})]})]})]})]})}),ds=()=>e.jsxs(A,{className:"rounded-2xl shadow-sm",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{className:"h-14 w-14 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"h-6 w-40"}),e.jsx(i,{className:"h-4 w-28"})]})]}),e.jsx(i,{className:"h-9 w-24 rounded-md"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:Array.from({length:6}).map((a,l)=>e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-background p-4",children:[e.jsx(i,{className:"h-8 w-8 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-5 w-full"})]})]},l))}),e.jsx(L,{className:"my-6"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx(i,{className:"h-4 w-72"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{className:"h-9 w-20 rounded-md"}),e.jsx(i,{className:"h-9 w-20 rounded-md"})]})]})]})]}),ns=()=>{const a=R();x.useEffect(()=>{a(pe())},[]);const{isLoading:l,bookings:r,errors:s}=$(d=>d.profile);return x.useEffect(()=>{const d=s==null?void 0:s.message;d&&U.error(d)},[s]),{isLoading:l,bookings:r,errors:s}},is={"Checked-in":{label:"تم الطلب",variant:"secondary"},Confirmed:{label:"تم التأكيد",variant:"default"},"Checked-out":{label:"تم الانتهاء",variant:"outline"},Cancelled:{label:"تم الالغاء",variant:"destructive"},Draft:{label:"مسودة",variant:"secondary"},"No-show":{label:"لم يرى",variant:"destructive"}};function ms({status:a}){var r,s,d;const l=is[a];return e.jsx(ve,{variant:(r=l==null?void 0:l.variant)!=null?r:"secondary",children:(d=(s=l==null?void 0:l.label)!=null?s:a)!=null?d:"-"})}function xs({booking:a}){var l,r,s,d,c,m;return e.jsx("div",{className:"rounded-2xl border bg-background p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-start",children:[e.jsx("div",{className:"relative overflow-hidden rounded-xl border bg-muted",children:(l=a==null?void 0:a.space)!=null&&l.image?e.jsx("img",{src:(r=a==null?void 0:a.space)==null?void 0:r.image,alt:((s=a==null?void 0:a.space)==null?void 0:s.name_ar)||((d=a==null?void 0:a.space)==null?void 0:d.name),className:"h-64 w-full object-cover xl:h-32 xl:w-48",loading:"lazy"}):e.jsx("div",{className:"flex h-44 w-full items-center justify-center xl:h-32 xl:w-48",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(le,{className:"h-4 w-4"}),"لا توجد صورة"]})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-lg font-semibold",children:((c=a==null?void 0:a.space)==null?void 0:c.name_ar)||((m=a==null?void 0:a.space)==null?void 0:m.name)}),e.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:(a==null?void 0:a.purpose)||"-"})]}),e.jsx(ms,{status:a==null?void 0:a.status})]}),e.jsx(L,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(He,{className:"mt-0.5 h-4 w-4"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"اليوم المحدد"}),e.jsx("div",{className:"truncate text-sm font-medium",children:(a==null?void 0:a.booking_date)||"—"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(We,{className:"mt-0.5 h-4 w-4"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"المدة"}),e.jsx("div",{className:"truncate text-sm font-medium",children:a!=null&&a.duration_hours?(a==null?void 0:a.duration_hours)+" ساعة":"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(ss,{className:"mt-0.5 h-4 w-4"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"الغرض"}),e.jsx("div",{className:"truncate text-sm font-medium",children:(a==null?void 0:a.purpose)||"—"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(q,{className:"mt-0.5 h-4 w-4"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"عدد الحضور"}),e.jsx("div",{className:"truncate text-sm font-medium",children:(a==null?void 0:a.attendees)||"—"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-muted/20 p-3",children:[e.jsx(qe,{className:"mt-0.5 h-4 w-4"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"ملاحظات"}),e.jsx("div",{className:"text-sm font-medium",children:a.notes||"—"})]})]})]})]})]})})}const os={all:"الكل","Checked-in":"تم الطلب","Checked-out":"تم الانتهاء",Confirmed:"تم التأكيد",Cancelled:"تم الالغاء",Draft:"مسودة","No-show":"لم يرى"},hs=["all","Checked-in","Draft","Checked-out","Confirmed","No-show","Cancelled"],us=()=>{const{bookings:a,isLoading:l,error:r}=ns(),[s,d]=x.useState("all"),c=Array.isArray(a)?a:[],m=x.useMemo(()=>{const t={all:c.length,"Checked-in":0,"Checked-out":0,Confirmed:0,Cancelled:0,Draft:0,"No-show":0};for(const n of c){const h=n==null?void 0:n.status;h&&(t[h]=(t[h]||0)+1)}return t},[c]),u=x.useMemo(()=>s==="all"?c:c.filter(t=>(t==null?void 0:t.status)===s),[s,c]);return e.jsxs(A,{className:"rounded-2xl shadow-sm",children:[e.jsxs(E,{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3",children:e.jsxs("div",{children:[e.jsx(K,{children:"الحجوزات"}),e.jsx(te,{children:"اعرض حجوزاتك وفلترها حسب الحالة."})]})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:hs.map(t=>{var n;return e.jsxs(C,{variant:s===t?"default":"outline",onClick:()=>d(t),children:[os[t]," (",(n=m==null?void 0:m[t])!=null?n:0,")"]},t)})})]}),e.jsx(D,{children:l?Array.from({length:5}).map((t,n)=>e.jsx(cs,{},n)):r?e.jsx("div",{className:"rounded-xl border bg-muted/30 p-6 text-sm text-destructive",children:"حصل خطأ أثناء تحميل الحجوزات."}):u.length===0?e.jsx("div",{className:"rounded-xl border bg-muted/30 p-6 text-sm text-muted-foreground",children:"لا يوجد حجوزات لعرضها دلوقتي."}):e.jsx("div",{className:"space-y-3",children:u.map(t=>{var n,h;return e.jsx(xs,{booking:t},(h=(n=t==null?void 0:t.id)!=null?n:t==null?void 0:t.name)!=null?h:`${t==null?void 0:t.status}-${Math.random()}`)})})})]})},js=()=>{const{updateProfilePassFN:a,isLoading:l,profilePasswordUpdate:r}=rs(),[s,d]=x.useState(!1),c=x.useRef(null),m=we({resolver:ye(_e),defaultValues:{current_password:"",new_password:"",confirm_password:""}}),u=()=>{d(!0),k.fromTo(c.current,{height:0,opacity:0},{height:"auto",opacity:1,duration:.4,ease:"power2.out"})},t=()=>{k.to(c.current,{height:0,opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{d(!1),m.reset()}})},n=h=>ee(null,null,function*(){a(h)});return x.useEffect(()=>{!l&&Object.keys(r).length>0&&(U.success("تم تغيير كلمة المرور بنجاح"),t())},[r,l]),e.jsxs(A,{className:"rounded-2xl shadow-sm",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between",children:[e.jsxs(K,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Xe,{className:"h-5 w-5"}),"تغيير كلمة المرور"]}),!s&&e.jsx(C,{variant:"outline",onClick:u,children:"تعديل"})]}),e.jsx(D,{className:"pt-0",children:e.jsx("div",{ref:c,style:{height:0,overflow:"hidden"},children:e.jsxs("div",{className:"pt-4",children:[e.jsx(L,{className:"mb-4"}),e.jsx(ge,z(M({},m),{children:e.jsxs("form",{onSubmit:m.handleSubmit(n),className:"space-y-4",children:[e.jsx(H,{control:m.control,name:"current_password",render:({field:h})=>e.jsxs(O,{children:[e.jsx(V,{children:"كلمة المرور الحالية"}),e.jsx(G,{children:e.jsx(F,M({type:"password",disabled:l},h))}),e.jsx(W,{})]})}),e.jsx(H,{control:m.control,name:"new_password",render:({field:h})=>e.jsxs(O,{children:[e.jsx(V,{children:"كلمة المرور الجديدة"}),e.jsx(G,{children:e.jsx(F,M({type:"password",disabled:l},h))}),e.jsx(W,{})]})}),e.jsx(H,{control:m.control,name:"confirm_password",render:({field:h})=>e.jsxs(O,{children:[e.jsx(V,{children:"تأكيد كلمة المرور"}),e.jsx(G,{children:e.jsx(F,M({type:"password",disabled:l},h))}),e.jsx(W,{})]})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(C,{type:"button",variant:"outline",onClick:t,disabled:l,children:"إلغاء"}),e.jsx(C,{type:"submit",disabled:l,children:l?"جارٍ الحفظ...":"حفظ"})]})]})}))]})})})]})},fs=({cardRef:a,fieldsRef:l})=>{var Q,X;const r=x.useRef(null),{profile:s,isLoading:d}=ts(),{updateProfileFN:c,profileUpdate:m,isLoading:u}=ls(),[t,n]=x.useState(!1),[h,B]=x.useState(null),[v,I]=x.useState(`https://grm.victor-eg.shop${s==null?void 0:s.user_image}`),[j,T]=x.useState(()=>{var o,f,N,w,y,g,_,b;return{firstName:(o=s==null?void 0:s.first_name)!=null?o:"",lastName:(f=s==null?void 0:s.last_name)!=null?f:"",email:(N=s==null?void 0:s.email)!=null?N:"",username:(w=s==null?void 0:s.username)!=null?w:"",birthDate:(y=s==null?void 0:s.date_of_birth)!=null?y:"",gender:(g=s==null?void 0:s.gender)!=null?g:"",avatarUrl:(_=s==null?void 0:s.user_image)!=null?_:"",phone:(b=s==null?void 0:s.phone)!=null?b:""}});x.useEffect(()=>{var o,f,N,w,y,g,_,b;T({firstName:(o=s==null?void 0:s.first_name)!=null?o:"",lastName:(f=s==null?void 0:s.last_name)!=null?f:"",email:(N=s==null?void 0:s.email)!=null?N:"",username:(w=s==null?void 0:s.username)!=null?w:"",birthDate:(y=s==null?void 0:s.date_of_birth)!=null?y:"",gender:(g=s==null?void 0:s.gender)!=null?g:"",avatarUrl:(_=s==null?void 0:s.user_image)!=null?_:"",phone:(b=s==null?void 0:s.phone)!=null?b:""}),I(`https://grm.victor-eg.shop${s==null?void 0:s.user_image}`),B(null)},[s]);const S=(o,f)=>{T(N=>z(M({},N),{[o]:f}))},re=()=>n(!0),ce=()=>{var o,f,N,w,y,g,_,b;h&&(v!=null&&v.startsWith("blob:"))&&URL.revokeObjectURL(v),T({firstName:(o=s==null?void 0:s.first_name)!=null?o:"",lastName:(f=s==null?void 0:s.last_name)!=null?f:"",email:(N=s==null?void 0:s.email)!=null?N:"",username:(w=s==null?void 0:s.username)!=null?w:"",birthDate:(y=s==null?void 0:s.date_of_birth)!=null?y:"",gender:(g=s==null?void 0:s.gender)!=null?g:"",avatarUrl:(_=s==null?void 0:s.user_image)!=null?_:"",phone:(b=s==null?void 0:s.phone)!=null?b:""}),I(`https://grm.victor-eg.shop${s==null?void 0:s.user_image}`),B(null),n(!1)},de=()=>{const o={firstName:j.firstName,lastName:j.lastName,birthDate:j.birthDate,gender:j.gender,avatarUrl:j.avatarUrl,phone:j.phone};c({first_name:o.firstName,last_name:o.lastName,phone:o.phone}),n(!1)};x.useEffect(()=>{!u&&Object.keys(m).length>0&&U.success("تم تحديث الملف الشخصي")},[m,u]);const J=()=>{var o;t&&((o=r.current)==null||o.click())},ne=o=>{var N;const f=(N=o.target.files)==null?void 0:N[0];f&&(f.size>2*1024*1024||(v!=null&&v.startsWith("blob:")&&URL.revokeObjectURL(v),B(f),I(URL.createObjectURL(f))))},ie=`${(((Q=s==null?void 0:s.first_name)==null?void 0:Q[0])||"").toUpperCase()}${(((X=s==null?void 0:s.last_name)==null?void 0:X[0])||"").toUpperCase()}`;return d?e.jsx(ds,{}):e.jsxs(A,{ref:a,className:"rounded-2xl shadow-sm",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`relative ${t?"cursor-pointer":""}`,onClick:J,role:t?"button":void 0,tabIndex:t?0:-1,onKeyDown:o=>{t&&(o.key==="Enter"||o.key===" ")&&J()},"aria-label":t?"تغيير الصورة":"صورة المستخدم",children:[e.jsxs(be,{className:"h-14 w-14",children:[e.jsx(Ce,{className:"object-cover",src:v,alt:`${j.firstName} ${j.lastName}`}),e.jsx(Se,{children:ie||"U"})]}),t&&e.jsx("div",{className:"absolute inset-0 grid place-items-center rounded-full bg-black/50",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs text-white",children:[e.jsx(le,{className:"h-3.5 w-3.5"}),"تغيير"]})}),e.jsx("input",{ref:r,type:"file",accept:"image/*",className:"hidden",onChange:ne})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs(K,{className:"truncate text-xl",children:[j.firstName," ",j.lastName]}),e.jsxs(te,{className:"flex items-center gap-0.5",children:[e.jsx("span",{className:"truncate",children:j.username}),e.jsx(Be,{className:"h-4 w-4"})]})]})]}),e.jsxs(C,{variant:"outline",onClick:re,disabled:t,className:"gap-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),"تعديل"]})]}),e.jsxs(D,{children:[e.jsxs("div",{ref:l,className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[e.jsx(P,{icon:q,label:"الاسم الأول",name:"firstName",value:j.firstName,editable:t,onChange:S}),e.jsx(P,{icon:se,label:"الاسم الثاني",name:"lastName",value:j.lastName,editable:t,onChange:S}),e.jsx(P,{icon:Me,label:"الإيميل",name:"email",value:j.email,editable:t,disabled:!0,onChange:S,type:"email"}),e.jsx(P,{icon:Pe,label:"رقم الهاتف",name:"phone",value:j.phone,editable:t,onChange:S}),e.jsx(P,{icon:Ve,label:"تاريخ الميلاد",name:"birthDate",value:j.birthDate,editable:t,disabled:!0,onChange:S,type:"date"}),e.jsx(P,{icon:se,label:"النوع",name:"gender",value:j.gender,editable:t,disabled:!0,onChange:S,type:"text"})]}),e.jsx(L,{className:"my-6"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["اذا محتاج تغيير أي بيانات، اضغط ",e.jsx("span",{className:"font-medium text-foreground",children:"تعديل"}),".",t?e.jsx("span",{className:"ml-2",children:"(الإيميل واسم المستخدم غير قابلين للتعديل)"}):null]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"outline",onClick:ce,disabled:!t,children:"إلغاء"}),e.jsx(C,{onClick:de,disabled:!t||u,children:"تأكيد"})]})]}),e.jsx(L,{className:"my-6"}),e.jsx(js,{})]})]})};function P({icon:a,label:l,value:r,name:s,editable:d,disabled:c,onChange:m,type:u="text",options:t=[]}){return e.jsxs("div",{className:"flex items-start gap-3 rounded-xl border bg-background p-4",children:[e.jsx("div",{className:"mt-0.5 rounded-lg border p-2",children:e.jsx(a,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(ke,{className:"text-sm text-muted-foreground",htmlFor:s,children:l}),d?u==="select"?e.jsxs(Fe,{value:r||"",onValueChange:n=>m==null?void 0:m(s,n),disabled:c,children:[e.jsx(Re,{className:"mt-2 w-full",children:e.jsx($e,{placeholder:"اختر"})}),e.jsx(Ae,{children:t.map(n=>e.jsx(Ee,{value:n.value,children:n.label},n.value))})]}):e.jsx(F,{id:s,name:s,type:u,className:"mt-2",value:r!=null?r:"",onChange:n=>m==null?void 0:m(s,n.target.value),disabled:c}):e.jsx("div",{className:"mt-2 truncate text-base font-medium",children:r||"—"}),d&&c&&e.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:"غير قابل للتعديل"})]})]})}const Ns=({active:a,setActive:l,sidebarRef:r})=>e.jsxs("aside",{ref:r,className:"h-fit rounded-2xl border bg-background p-3 shadow-sm",children:[e.jsxs("div",{className:"px-3 pb-3 pt-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"التحكم"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"إدارة حسابك وحجوزاتك"})]}),e.jsx(L,{}),e.jsxs("nav",{className:"mt-3 space-y-2",children:[e.jsxs("button",{onClick:()=>l("profile"),className:["flex w-full items-center justify-between rounded-xl px-3 py-3 text-right transition cursor-pointer",a==="profile"?"bg-emerald-600 text-white font-semibold ":"hover:bg-emerald-600/50 text-muted-foreground hover:text-white"].join(" "),children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"الصفحة الشخصية"]}),e.jsx(ae,{className:"h-4 w-4 opacity-60"})]}),e.jsxs("button",{onClick:()=>l("bookings"),className:["flex w-full items-center justify-between rounded-xl px-3 py-3 text-right transition cursor-pointer",a==="bookings"?"bg-emerald-600 text-white font-semibold ":"hover:bg-emerald-600/50 text-muted-foreground hover:text-white"].join(" "),children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"الحجوزات"]}),e.jsx(ae,{className:"h-4 w-4 opacity-60"})]})]})]});function ps(){const a=x.useRef(null),l=x.useRef(null),r=x.useRef(null),s=x.useRef(null),d=x.useRef(null),[c,m]=x.useState("profile");return x.useEffect(()=>{const u=k.context(()=>{var n,h;k.set([l.current,r.current,s.current],{opacity:0,y:14}),k.set(((n=d.current)==null?void 0:n.children)||[],{opacity:0,y:10}),k.timeline({defaults:{duration:.7,ease:"power3.out"}}).to(l.current,{opacity:1,y:0}).to(r.current,{opacity:1,y:0},"-=0.45").to(s.current,{opacity:1,y:0},"-=0.45").to(((h=d.current)==null?void 0:h.children)||[],{opacity:1,y:0,stagger:.08},"-=0.4")},a);return()=>u.revert()},[c]),e.jsx("section",{ref:a,className:"bg-muted/30",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 p-4 lg:grid-cols-[280px_1fr] lg:p-8",children:[e.jsx(Ns,{active:c,setActive:m,sidebarRef:l}),e.jsxs("main",{className:"space-y-6",children:[e.jsx("div",{ref:r,className:"flex items-start justify-between gap-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold tracking-tight",children:c==="profile"?"الصفحة الشخصية":"الحجوزات"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:c==="profile"?"راجع بيانات حسابك وتأكد إنها صحيحة.":"قائمة الحجوزات الخاصة بك."})]})}),c==="profile"?e.jsx(fs,{cardRef:s,fieldsRef:d}):e.jsx(us,{})]})]})})})}const Cs=()=>{const{metaData:a}=Le("profile");return x.useEffect(()=>{Ue({title:a.title_ar,description:a.description_ar,keywords:a.keywords_ar})},[a]),e.jsx(ps,{})};export{Cs as default};
