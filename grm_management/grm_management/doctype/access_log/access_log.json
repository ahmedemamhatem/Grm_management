{
 "actions": [],
 "allow_rename": 1,
 "autoname": "LOG-.YYYY.-.#####",
 "creation": "2026-01-19 12:00:00.000000",
 "doctype": "DocType",
 "engine": "InnoDB",
 "field_order": [
  "event_details_section",
  "log_id",
  "device",
  "location",
  "column_break_e1",
  "event_time",
  "event_type",
  "verification_type",
  "person_details_section",
  "zk_user_id",
  "member",
  "column_break_p1",
  "member_user",
  "member_name",
  "access_context_section",
  "space",
  "contract",
  "column_break_c1",
  "membership",
  "booking",
  "denial_details_section",
  "denial_reason",
  "denial_details"
 ],
 "fields": [
  {"fieldname": "event_details_section", "fieldtype": "Section Break", "label": "Event Details"},
  {"description": "Unique log ID", "fieldname": "log_id", "fieldtype": "Data", "label": "Log ID", "reqd": 1, "unique": 1},
  {"description": "Link to Access Device", "fieldname": "device", "fieldtype": "Link", "label": "Device", "options": "Access Device", "reqd": 1},
  {"description": "From device", "fieldname": "location", "fieldtype": "Link", "label": "Location", "options": "Location", "read_only": 1},
  {"fieldname": "column_break_e1", "fieldtype": "Column Break"},
  {"description": "Event timestamp", "fieldname": "event_time", "fieldtype": "Datetime", "label": "Event Time", "reqd": 1},
  {"description": "Entry, Exit, Denied, Invalid", "fieldname": "event_type", "fieldtype": "Select", "label": "Event Type", "options": "Entry\nExit\nDenied\nInvalid", "reqd": 1},
  {"description": "Fingerprint, Card, Face, PIN", "fieldname": "verification_type", "fieldtype": "Select", "label": "Verification Type", "options": "Fingerprint\nCard\nFace\nPIN"},

  {"fieldname": "person_details_section", "fieldtype": "Section Break", "label": "Person Details"},
  {"description": "User ID on device", "fieldname": "zk_user_id", "fieldtype": "Data", "label": "ZK User ID", "reqd": 1},
  {"description": "Link to Member", "fieldname": "member", "fieldtype": "Link", "label": "Member", "options": "Member"},
  {"fieldname": "column_break_p1", "fieldtype": "Column Break"},
  {"description": "Link to Member User", "fieldname": "member_user", "fieldtype": "Link", "label": "Member User", "options": "User"},
  {"description": "Name for display", "fieldname": "member_name", "fieldtype": "Data", "label": "Member Name", "read_only": 1},

  {"fieldname": "access_context_section", "fieldtype": "Section Break", "label": "Access Context"},
  {"description": "Link to Space", "fieldname": "space", "fieldtype": "Link", "label": "Space", "options": "Space"},
  {"description": "Link to Contract", "fieldname": "contract", "fieldtype": "Link", "label": "Contract", "options": "Contract"},
  {"fieldname": "column_break_c1", "fieldtype": "Column Break"},
  {"description": "Link to Membership", "fieldname": "membership", "fieldtype": "Link", "label": "Membership", "options": "Membership"},
  {"description": "Link to Booking", "fieldname": "booking", "fieldtype": "Link", "label": "Booking", "options": "Booking"},

  {"fieldname": "denial_details_section", "fieldtype": "Section Break", "label": "Denial Details", "depends_on": "eval:doc.event_type=='Denied'"},
  {"description": "Expired, No Access, Time Restricted, Limit Reached, Invalid", "fieldname": "denial_reason", "fieldtype": "Select", "label": "Denial Reason", "options": "Expired\nNo Access\nTime Restricted\nLimit Reached\nInvalid"},
  {"description": "Additional details", "fieldname": "denial_details", "fieldtype": "Small Text", "label": "Denial Details"}
 ],
 "index_web_pages_for_search": 1,
 "modified": "2026-01-19 12:15:00.000000",
 "modified_by": "Administrator",
 "module": "Grm Management",
 "name": "Access Log",
 "owner": "Administrator",
 "permissions": [
  {"create": 0, "delete": 0, "email": 1, "export": 1, "print": 1, "read": 1, "report": 1, "role": "System Manager", "share": 1, "write": 0},
  {"create": 0, "delete": 0, "email": 0, "export": 1, "print": 1, "read": 1, "report": 1, "role": "Sales Staff", "share": 0, "write": 0}
 ],
 "read_only": 1,
 "sort_field": "event_time",
 "sort_order": "DESC",
 "track_changes": 0
}