{
 "actions": [],
 "allow_rename": 1,
 "autoname": "ACC-RULE-.#####",
 "creation": "2026-01-19 12:00:00.000000",
 "doctype": "DocType",
 "engine": "InnoDB",
 "field_order": [
  "basic_fields_section",
  "rule_name",
  "rule_type",
  "status",
  "column_break_b1",
  "reference_type",
  "reference_name",
  "member",
  "access_scope_section",
  "all_locations",
  "locations",
  "all_spaces",
  "spaces",
  "devices",
  "time_restrictions_section",
  "valid_from",
  "valid_until",
  "is_24_7",
  "column_break_t1",
  "access_start_time",
  "access_end_time",
  "allowed_days",
  "usage_limits_section",
  "limit_type",
  "entry_limit",
  "column_break_l1",
  "entries_used",
  "entries_remaining"
 ],
 "fields": [
  {"fieldname": "basic_fields_section", "fieldtype": "Section Break", "label": "Basic Fields"},
  {"description": "Rule name", "fieldname": "rule_name", "fieldtype": "Data", "label": "Rule Name", "reqd": 1},
  {"description": "Contract, Membership, Custom", "fieldname": "rule_type", "fieldtype": "Select", "label": "Rule Type", "options": "Contract\nMembership\nCustom", "reqd": 1},
  {"description": "Active, Inactive, Expired", "fieldname": "status", "fieldtype": "Select", "label": "Status", "options": "Active\nInactive\nExpired", "reqd": 1},
  {"fieldname": "column_break_b1", "fieldtype": "Column Break"},
  {"description": "Contract, Membership, Member", "fieldname": "reference_type", "fieldtype": "Select", "label": "Reference Type", "options": "Contract\nMembership\nMember", "reqd": 1},
  {"description": "Link to contract/membership/member", "fieldname": "reference_name", "fieldtype": "Dynamic Link", "label": "Reference Name", "options": "reference_type", "reqd": 1},
  {"description": "Auto-populated member link", "fieldname": "member", "fieldtype": "Link", "label": "Member", "options": "Member", "read_only": 1},

  {"fieldname": "access_scope_section", "fieldtype": "Section Break", "label": "Access Scope"},
  {"description": "Access to all locations", "fieldname": "all_locations", "fieldtype": "Check", "label": "All Locations"},
  {"description": "Child table: Access Rule Location", "fieldname": "locations", "fieldtype": "Table", "label": "Locations", "options": "Access Rule Location", "depends_on": "eval:!doc.all_locations"},
  {"description": "Access to all spaces in locations", "fieldname": "all_spaces", "fieldtype": "Check", "label": "All Spaces"},
  {"description": "Child table: Access Rule Space", "fieldname": "spaces", "fieldtype": "Table", "label": "Spaces", "options": "Access Rule Space", "depends_on": "eval:!doc.all_spaces"},
  {"description": "Child table: Access Rule Device", "fieldname": "devices", "fieldtype": "Table", "label": "Devices", "options": "Access Rule Device"},

  {"fieldname": "time_restrictions_section", "fieldtype": "Section Break", "label": "Time Restrictions"},
  {"description": "Start date", "fieldname": "valid_from", "fieldtype": "Date", "label": "Valid From", "reqd": 1},
  {"description": "End date", "fieldname": "valid_until", "fieldtype": "Date", "label": "Valid Until", "reqd": 1},
  {"description": "24/7 access", "fieldname": "is_24_7", "fieldtype": "Check", "label": "Is 24/7"},
  {"fieldname": "column_break_t1", "fieldtype": "Column Break"},
  {"description": "Daily start time", "fieldname": "access_start_time", "fieldtype": "Time", "label": "Access Start Time", "depends_on": "eval:!doc.is_24_7"},
  {"description": "Daily end time", "fieldname": "access_end_time", "fieldtype": "Time", "label": "Access End Time", "depends_on": "eval:!doc.is_24_7"},
  {"description": "Allowed days of week", "fieldname": "allowed_days", "fieldtype": "MultiSelect", "label": "Allowed Days", "options": "Monday\nTuesday\nWednesday\nThursday\nFriday\nSaturday\nSunday"},

  {"fieldname": "usage_limits_section", "fieldtype": "Section Break", "label": "Usage Limits"},
  {"description": "None, Daily Entries, Monthly Entries, Total Entries", "fieldname": "limit_type", "fieldtype": "Select", "label": "Limit Type", "options": "None\nDaily Entries\nMonthly Entries\nTotal Entries"},
  {"description": "Maximum entries", "fieldname": "entry_limit", "fieldtype": "Int", "label": "Entry Limit"},
  {"fieldname": "column_break_l1", "fieldtype": "Column Break"},
  {"description": "Entries used", "fieldname": "entries_used", "fieldtype": "Int", "label": "Entries Used", "read_only": 1},
  {"description": "Remaining entries", "fieldname": "entries_remaining", "fieldtype": "Int", "label": "Entries Remaining", "read_only": 1}
 ],
 "index_web_pages_for_search": 1,
 "modified": "2026-01-19 12:00:00.000000",
 "modified_by": "Administrator",
 "module": "grm_management",
 "name": "Access Rule",
 "owner": "Administrator",
 "permissions": [
  {"create": 1, "delete": 1, "email": 1, "export": 1, "print": 1, "read": 1, "report": 1, "role": "System Manager", "share": 1, "write": 1}
 ],
 "sort_field": "modified",
 "sort_order": "DESC",
 "track_changes": 1
}